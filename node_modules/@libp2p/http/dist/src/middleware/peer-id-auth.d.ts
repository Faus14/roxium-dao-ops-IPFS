import type { Middleware, MiddlewareOptions, HTTP } from '../index.js';
import type { VerifyPeer } from '@libp2p/http-peer-id-auth';
import type { ComponentLogger, PrivateKey } from '@libp2p/interface';
import type { Multiaddr } from '@multiformats/multiaddr';
interface PeerIdAuthComponents {
    privateKey: PrivateKey;
    logger: ComponentLogger;
    http: HTTP;
}
export declare const SEC_WEBSOCKET_PROTOCOL_PREFIX = "authorization=";
export interface PeerIdAuthInit {
    verifyPeer?: VerifyPeer;
    tokenTTL?: number;
}
export declare class PeerIdAuth implements Middleware {
    private readonly components;
    private readonly tokens;
    private readonly tokenTTL;
    private readonly verifyPeer?;
    constructor(components: PeerIdAuthComponents, init: PeerIdAuthInit);
    prepareRequest(resource: URL | Multiaddr[], opts: MiddlewareOptions): Promise<void>;
    getOrCreateAuthToken(resource: URL | Multiaddr[], opts: MiddlewareOptions): Promise<string>;
    createAuthToken(resource: URL | Multiaddr[], opts: MiddlewareOptions): Promise<string>;
    processResponse(resource: URL | Multiaddr[], opts: MiddlewareOptions, response: Response): void;
}
export declare function peerIdAuth(init?: PeerIdAuthInit): (component: any) => Middleware;
export {};
//# sourceMappingURL=peer-id-auth.d.ts.map