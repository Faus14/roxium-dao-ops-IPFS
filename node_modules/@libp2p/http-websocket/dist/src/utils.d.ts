import { Response } from '@libp2p/http-utils';
import type { HeaderInfo } from '@libp2p/http-utils';
import type { AbortOptions, Stream } from '@libp2p/interface';
export declare function toBytes(data: string | Blob | Uint8Array | ArrayBuffer | DataView): Uint8Array | Promise<Uint8Array>;
export declare class CodeError extends Error {
    readonly code: number;
    constructor(message: string, code?: number);
}
export declare function readResponse(stream: Stream, options: AbortOptions): Promise<Response>;
/**
 * Implements the WebSocket handshake from the client's perspective
 */
export declare function performClientUpgrade(url: URL, protocols: string[] | undefined, headers: Headers): AsyncGenerator<Uint8Array>;
/**
 * Implements the WebSocket handshake from the server's perspective
 */
export declare function performServerUpgrade(headers: Headers | Record<string, string | string[] | undefined>): AsyncGenerator<Uint8Array>;
export declare function streamToWebSocket(info: HeaderInfo, stream: Stream): WebSocket;
//# sourceMappingURL=utils.d.ts.map